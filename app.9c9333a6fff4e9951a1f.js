(()=>{var e={721:()=>{window.en={affirmations:["You have an amazing eye for color! âœ¨","Your creativity is truly inspiring! ðŸŒŸ","These palettes showcase your artistic talent! ðŸŽ¨","You're creating something beautiful! ðŸ’«","You're a natural at color harmony! ðŸŒˆ","Your color choices are so thoughtful! âœ¨","That's a perfect combination! ðŸŒŸ","Your design sense is exceptional! ðŸ’–","You make color selection look effortless! âœ¨","What a gorgeous palette you're creating! ðŸŽ¨"],buttons:{showSolution:"Show Me How âœ¨",hideSolution:"Let Me Try Again",showHint:"Need a Hint? ðŸ’¡",hintWithCountdown:"Hint ({seconds}s)",resetGame:"Start Fresh"},messages:{welcome:"âœ¨ Welcome! Drag colors from the pool on the left to your canvas on the right to create beautiful palettes. Complete all rows to win!",duplicateColor:"This color is already in your palette! Try another shade instead ðŸŽ¨",wrongRow:"This color belongs in another palette! Try a different row âœ¨",wrongPosition:"Good color choice! Try placing it somewhere else in this row ðŸ‘",sameRowOnly:"Let's keep colors in their palette families! Try moving within the same row ðŸŒˆ",showingSolution:"âœ¨ Here's how it should look! When you're ready, click 'Let Me Try Again'",continueArranging:"You're doing great! Keep arranging colors to create beautiful palettes ðŸŽ¨",showingHint:"ðŸ’« Here's a hint! The highlighted colors might look better in a different spot",congratulations:"ðŸŽ‰ Amazing work! You created beautiful palettes in {minutes}m {seconds}s with {blunders} attempts and {hintsUsed} inspirations!",noMisplacedTiles:"âœ¨ All tiles in this row are perfectly placed! No hints needed right now."},howToPlay:{title:"Create Something Beautiful:",instructions:'Drag colors from the Color Pool to Your Canvas to create stunning palettes. Each row represents a different color relationship. The locked colors (ðŸ”’) are your guides - they\'re already in the perfect spot! Arrange the remaining colors to create harmonious combinations. Need help? Click "Need a Hint" or "Show Me How" for inspiration.'},paletteTypes:{monochromatic:{name:"Sunset Palette",description:"Like a sunset fading to night - light to dark variations of one color"},analogous:{name:"Harmony Blend",description:"Colors that sit next to each other - like spring flowers in a garden"},triadic:{name:"Vibrant Trio",description:"Three bold colors that create energy and excitement"},splitComplementary:{name:"Dynamic Balance",description:"A main color with two accent colors that make it pop"},complementary:{name:"Perfect Contrast",description:"Opposite colors that create dramatic, eye-catching combinations"}}}}},t={};function o(n){var s=t[n];if(void 0!==s)return s.exports;var a=t[n]={exports:{}};return e[n](a,a.exports,o),a.exports}(()=>{"use strict";o(721);const e=window.en;Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e){if(null==this)throw new TypeError('"this" is null or not defined');if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var t=Object(this),o=t.length>>>0,n=arguments[1],s=0;s<o;s++){var a=t[s];if(e.call(n,a,s,t))return a}},configurable:!0,writable:!0}),document.addEventListener("DOMContentLoaded",(function(){const t=document.querySelector(".orientation-overlay"),o=document.querySelector(".game-container");function n(){window.innerWidth<=768&&window.matchMedia("(orientation: portrait)").matches?(t.style.display="flex",o.style.visibility="hidden"):(t.style.display="none",o.style.visibility="visible")}n(),window.addEventListener("resize",n),window.addEventListener("orientationchange",n);const s={paletteTypes:["monochromatic","analogous","triadic","splitComplementary","complementary"],palettes:{monochromatic:["#e6f2ff","#bfd9ff","#99c2ff","#6699ff","#3366ff"],analogous:["#ff9999","#ffcc99","#ffff99","#ccff99","#99ffcc"],triadic:["#ff5555","#55ff55","#5555ff","#ff5555","#5555ff"],splitComplementary:["#ff6600","#ff9933","#33cc99","#66cc99","#cc33cc"],complementary:["#ff5555","#ff9999","#ffffff","#9999ff","#5555ff"]},lockedTiles:[[!1,!1,!0,!1,!1],[!1,!0,!1,!0,!1],[!0,!0,!0,!0,!0],[!1,!0,!1,!0,!1],[!1,!1,!0,!1,!1]]},a=document.getElementById("scrambled-matrix"),i=document.getElementById("solution-matrix"),l=document.getElementById("message"),r=document.getElementById("check-button"),c=document.getElementById("hint-button"),d=document.getElementById("reset-button");r.textContent=e.buttons.showSolution,c.textContent=e.buttons.showHint,d.textContent=e.buttons.resetGame,document.querySelector(".game-info h2").textContent=e.howToPlay.title,document.querySelector(".game-info p").textContent=e.howToPlay.instructions;const u=document.querySelectorAll(".palette-type h3, .palette-type p");for(let t=0;t<u.length;t+=2){const o=s.paletteTypes[Math.floor(t/2)],n=u[t],a=u[t+1];if(n){const s=Math.floor(t/2)+1;n.textContent=`Row ${s}: ${e.paletteTypes[o].name}`}a&&(a.textContent=e.paletteTypes[o].description)}let m=null,h=[],f=0,p=0,y=null,g=null,v=null,w=!1,x=!1,L=null,C=0;const T=["#B159FF","#9C27B0","#673AB7","#FF59B6","#FF4081","#E91E63"];let b=0;function E(){K(),a.innerHTML="",i.innerHTML="",l.textContent=e.messages.welcome,l.className="message-area hint welcome",f=0,p=0,b=0,j(),z(),c.textContent=e.buttons.showHint,c.disabled=!1,v&&(clearInterval(v),v=null),L&&(clearTimeout(L),L=null),y=new Date,g&&clearInterval(g),g=setInterval(U,1e3),U(),w=!1,x=!1;const t=[];s.paletteTypes.forEach((e=>{t.push(...s.palettes[e])}));const o=[];for(let e=0;e<s.lockedTiles.length;e++){const t=s.paletteTypes[e],n=s.palettes[t];for(let t=0;t<s.lockedTiles[e].length;t++)s.lockedTiles[e][t]&&o.push(n[t])}const n={};for(const e of o)n[e]=(n[e]||0)+1;const r=[...t];for(const e in n){let t=n[e];for(let o=r.length-1;o>=0&&t>0;o--)r[o]===e&&(r.splice(o,1),t--)}[...r].sort((()=>Math.random()-.5)).forEach(((e,t)=>{const o=$(e,t,"scrambled");o.dataset.originalIndex=t,a.appendChild(o)}));for(let e=0;e<s.lockedTiles.length;e++){const t=s.lockedTiles[e],o=s.paletteTypes[e],n=s.palettes[o],a={};for(const e of n)a[e]=(a[e]||0)+1;for(let e=0;e<t.length;e++)if(t[e]){a[n[e]]--}for(let s=0;s<t.length;s++){const a=5*e+s;if(t[s]){const e=$(n[s],a,"locked");e.classList.add("locked"),i.appendChild(e)}else{const t=document.createElement("div");t.className="tile empty-slot",t.dataset.index=a,t.dataset.paletteType=o,t.dataset.rowIndex=e,t.dataset.colIndex=s,t.addEventListener("dragover",O),t.addEventListener("drop",R),i.appendChild(t)}}}W()}let S=null,k=0,N=0,M=null,I=null,q=!1;function $(e,t,o){const n=document.createElement("div");n.className="tile";const s=F(e,15),a=Y(e,15);return n.style.background=`linear-gradient(135deg, ${s}, ${e} 50%, ${a})`,n.dataset.color=e,n.dataset.index=t,"locked"===o?n.classList.add("locked"):"scrambled"!==o&&"solution"!==o||(n.draggable=!0,n.addEventListener("dragstart",H),n.addEventListener("dragend",D),n.addEventListener("dragover",O),n.addEventListener("drop",R),n.addEventListener("touchstart",J,{passive:!1}),n.addEventListener("touchmove",Q,{passive:!1}),n.addEventListener("touchend",Z),n.addEventListener("touchcancel",_)),n}function A(){if(!x){x=!0;document.querySelectorAll(".tile.locked").forEach((e=>{e.classList.add("hide-lock")}))}}function B(t=!1){if(b++,!t&&b<12)return;b=0,L&&clearTimeout(L);const o=Math.floor(Math.random()*e.affirmations.length),n=e.affirmations[o],s=Math.floor(Math.random()*T.length),a=T[s];l.textContent=n,l.className="message-area",l.style.color=a,L=setTimeout((()=>{(""===l.textContent||e.affirmations.includes(l.textContent))&&B(!0)}),5e3)}function P(){""!==l.textContent&&l.textContent!==e.messages.continueArranging||B(!0)}function F(e,t){const o=parseInt(e.replace("#",""),16),n=Math.round(2.55*t);return"#"+(16777216+(Math.min(255,(o>>16)+n)<<16)+(Math.min(255,(o>>8&255)+n)<<8)+Math.min(255,(255&o)+n)).toString(16).slice(1)}function Y(e,t){const o=parseInt(e.replace("#",""),16),n=Math.round(2.55*t);return"#"+(16777216+(Math.max(0,(o>>16)-n)<<16)+(Math.max(0,(o>>8&255)-n)<<8)+Math.max(0,(255&o)-n)).toString(16).slice(1)}function H(e){m=this,this.style.opacity="0.4",e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("text/plain",this.dataset.color),m.dataset.sourceMatrix=this.closest("#scrambled-matrix")?"scrambled":"solution"}function D(e){this.style.opacity="1",m=null}function O(e){return e.preventDefault&&e.preventDefault(),!!(this.classList.contains("empty-slot")||this.classList.contains("tile")&&!this.classList.contains("locked"))&&(e.dataTransfer.dropEffect="move",!1)}function R(t){if(t.preventDefault(),!m)return;const o=parseInt(this.dataset.index),n=Math.floor(o/5),r=s.paletteTypes[n],c=s.palettes[r],d=m.dataset.color,u="solution"===m.dataset.sourceMatrix;if(!this.classList.contains("empty-slot")&&this.classList.contains("tile")&&!this.classList.contains("locked")){const t=parseInt(m.dataset.index),o=Math.floor(t/5);if(o!==n)return f++,j(),this.classList.add("shake"),setTimeout((()=>{this.classList.remove("shake"),m&&(m.style.opacity="1")}),500),l.textContent=e.messages.sameRowOnly,void(l.className="message-area error");if(m.classList.contains("locked")||this.classList.contains("locked"))return;const s=m,a=this,i=s.dataset.color;s.dataset.color=a.dataset.color,a.dataset.color=i;const r=(e,t)=>{const o=F(t,15),n=Y(t,15);e.style.background=`linear-gradient(135deg, ${o}, ${t} 50%, ${n})`};return r(s,s.dataset.color),r(a,a.dataset.color),oe(n)&&oe(o)?(s.classList.add("correct-position"),a.classList.add("correct-position"),B(),setTimeout((()=>{s.classList.remove("correct-position"),a.classList.remove("correct-position"),""===l.textContent&&P()}),500)):(f++,j(),s.classList.add("wrong-position"),a.classList.add("wrong-position"),l.textContent=e.messages.wrongPosition,l.className="message-area error",setTimeout((()=>{s.classList.remove("wrong-position"),a.classList.remove("wrong-position")}),500)),W(),A(),void V()}const h=c.includes(d),p=(c.indexOf(d),this.dataset.paletteType,[]);for(let e=0;e<5;e++){const t=5*n+e,o=i.querySelector(`.tile[data-index="${t}"]:not(.empty-slot)`);o&&!o.classList.contains("empty-slot")&&p.push({color:o.dataset.color,index:t})}if(u){const t=parseInt(m.dataset.index);if(Math.floor(t/5)!==n){f++,j();const t=$(d,o,"solution");return t.classList.add("shake"),this.parentNode.replaceChild(t,this),setTimeout((()=>{const e=document.createElement("div");e.className="tile empty-slot",e.dataset.index=o,e.addEventListener("dragover",O),e.addEventListener("drop",R),t.parentNode.replaceChild(e,t),m&&(m.style.opacity="1")}),500),l.textContent=e.messages.sameRowOnly,void(l.className="message-area error")}const s=document.createElement("div");s.className="tile empty-slot",s.dataset.index=m.dataset.index,s.addEventListener("dragover",O),s.addEventListener("drop",R),m.parentNode.replaceChild(s,m);const a=$(d,o,"solution");this.parentNode.replaceChild(a,this),oe(n)?(a.classList.add("correct-position"),B(),setTimeout((()=>{a.parentNode&&a.classList.remove("correct-position"),""===l.textContent&&P()}),500)):(f++,j(),a.classList.add("wrong-position"),l.textContent=e.messages.wrongPosition,l.className="message-area error",setTimeout((()=>{a.parentNode&&a.classList.remove("wrong-position")}),500))}else{if(!h){f++,j();const t=$(d,o,"solution");return t.classList.add("shake"),this.parentNode.replaceChild(t,this),setTimeout((()=>{const e=document.createElement("div");e.className="tile empty-slot",e.dataset.index=o,e.addEventListener("dragover",O),e.addEventListener("drop",R),t.parentNode.replaceChild(e,t),m&&(m.style.opacity="1")}),500),l.textContent=e.messages.wrongRow,void(l.className="message-area error")}const t=$(d,o,"solution");if(this.parentNode.replaceChild(t,this),m.parentNode.removeChild(m),!oe(n))return f++,j(),t.classList.add("shake"),setTimeout((()=>{const e=document.createElement("div");e.className="tile empty-slot",e.dataset.index=o,e.addEventListener("dragover",O),e.addEventListener("drop",R),t.parentNode&&t.parentNode.replaceChild(e,t);const n=$(d,a.children.length,"scrambled");a.appendChild(n)}),500),l.textContent=e.messages.wrongPosition,void(l.className="message-area error");t.classList.add("correct-position"),B(),setTimeout((()=>{t.parentNode&&t.classList.remove("correct-position"),""===l.textContent&&P()}),500)}W(),A(),V()}function W(){h=[];i.querySelectorAll(".tile:not(.empty-slot)").forEach((e=>{e.classList.contains("empty-slot")||h.push(e)}))}function X(){for(let e=0;e<s.lockedTiles.length;e++)for(let t=0;t<s.lockedTiles[e].length;t++){const o=5*e+t,n=i.querySelector(`.tile[data-index="${o}"]`);if((!s.lockedTiles[e][t]||!n)&&n){const e=document.createElement("div");e.className="tile empty-slot",e.dataset.index=o,e.addEventListener("dragover",O),e.addEventListener("drop",R),n.parentNode.replaceChild(e,n)}}}function j(){document.getElementById("blunder-value").textContent=f}function z(){document.getElementById("hints-value").textContent=p}function U(){if(!y)return;const e=new Date,t=Math.floor((e-y)/1e3),o=Math.floor(t/60).toString().padStart(2,"0"),n=(t%60).toString().padStart(2,"0");document.getElementById("timer-value").textContent=`${o}:${n}`}function G(){g&&clearInterval(g);const t=new Date,o=Math.floor((t-y)/1e3),n=Math.floor(o/60),s=o%60,a=function(e,t,o){const n=Math.max(0,500-Math.floor(e/10)),s=25*t,a=50*o;return{total:Math.max(0,1e3+n-s-a),baseScore:1e3,timeBonus:n,blunderPenalty:s,hintPenalty:a,timeInSeconds:e,blunders:t,hintsUsed:o}}(o,f,p);C=a.total;const i=e.messages.congratulations.replace("{minutes}",n).replace("{seconds}",s).replace("{blunders}",f).replace("{hintsUsed}",p);l.textContent=i,l.className="message-area success",h.forEach((e=>{e.classList.add("correct"),setTimeout((()=>{e.classList.remove("correct")}),1e3)})),setTimeout((()=>{!function(e){const t=document.getElementById("score-modal"),o=t.querySelector(".final-score"),n=t.querySelector(".base-score"),s=t.querySelector(".time-bonus"),a=t.querySelector(".blunder-penalty"),i=t.querySelector(".hint-penalty"),l=t.querySelector(".time-value"),r=t.querySelector(".blunders-value"),c=t.querySelector(".hints-value");o.textContent=e.total,n.textContent=e.baseScore,s.textContent=`+${e.timeBonus}`,a.textContent=`-${e.blunderPenalty}`,i.textContent=`-${e.hintPenalty}`;const d=Math.floor(e.timeInSeconds/60).toString().padStart(2,"0"),u=(e.timeInSeconds%60).toString().padStart(2,"0");l.textContent=`${d}:${u}`,r.textContent=e.blunders,c.textContent=e.hintsUsed,t.style.display="flex";const m=document.getElementById("play-again-button"),h=m.cloneNode(!0);m.parentNode.replaceChild(h,m),h.addEventListener("click",(()=>{K(),E()}))}(a)}),1500)}function K(){document.getElementById("score-modal").style.display="none"}function V(){w||function(){let e=!0;for(let t=0;t<s.paletteTypes.length;t++){const o=s.paletteTypes[t],n=s.palettes[o],a=[];for(let e=0;e<5;e++){const o=5*t+e,n=i.querySelector(`.tile[data-index="${o}"]`);n&&!n.classList.contains("empty-slot")&&a.push(n)}if(a.length<5){e=!1;continue}const l=a.map((e=>e.dataset.color)),r={},c={};for(const e of n)r[e]=(r[e]||0)+1;for(const e of l)c[e]=(c[e]||0)+1;const d=Object.keys(r),u=Object.keys(c);d.length===u.length?d.every((e=>u.includes(e)))&&d.every((e=>r[e]===c[e]))||(e=!1):e=!1}e&&G()}()}function J(e){if(e.preventDefault(),this.classList.contains("locked"))return;S=this,S.dataset.sourceMatrix=this.closest("#scrambled-matrix")?"scrambled":"solution";const t=e.touches[0],o=S.getBoundingClientRect();var n,s;k=t.clientX-o.left,N=t.clientY-o.top,n=t.clientX,s=t.clientY,te(),I=S.cloneNode(!0),I.classList.add("ghost-tile"),I.style.position="fixed",I.style.zIndex="1000",I.style.opacity="0.8",I.style.pointerEvents="none",ee(n,s),requestAnimationFrame((()=>{document.body.appendChild(I)})),S.style.opacity="0.4",q=!0,A()}function Q(e){if(!S)return;e.preventDefault(),q=!0;const t=e.touches[0];ee(t.clientX,t.clientY),window.touchMoveThrottle||(window.touchMoveThrottle=!0,requestAnimationFrame((()=>{let e=[];if(document.elementsFromPoint)e=document.elementsFromPoint(t.clientX,t.clientY);else if(document.elementFromPoint){const o=document.elementFromPoint(t.clientX,t.clientY);o&&(e=[o])}const o=e.find((e=>e.classList&&e.classList.contains("empty-slot")));M&&M!==o&&M.classList.remove("touch-hover"),o&&(o.classList.add("touch-hover"),M=o),window.touchMoveThrottle=!1})))}function Z(e){if(S){if(te(),S.style.opacity="1",q){const t=e.changedTouches[0];let o=[];if(document.elementsFromPoint)o=document.elementsFromPoint(t.clientX,t.clientY);else if(document.elementFromPoint){const e=document.elementFromPoint(t.clientX,t.clientY);e&&(o=[e])}const n=o.find((e=>e.classList&&e.classList.contains("empty-slot")));n&&(n.classList.remove("touch-hover"),m=S,R.call(n,{preventDefault:()=>{}}))}S=null,M=null,q=!1}}function _(){S&&(S.style.opacity="1"),te(),S=null,M=null,q=!1}function ee(e,t){if(!I)return;const o=e-k,n=t-N;requestAnimationFrame((()=>{I.style.transform=`translate3d(${o}px, ${n}px, 0)`}))}function te(){I&&I.parentNode&&(I.parentNode.removeChild(I),I=null),document.querySelectorAll(".empty-slot.touch-hover").forEach((e=>{e.classList.remove("touch-hover")}))}function oe(e){const t=s.paletteTypes[e],o=s.palettes[t],n={};for(const e of o)n[e]=(n[e]||0)+1;const a={};for(let t=0;t<5;t++){const o=5*e+t,n=i.querySelector(`.tile[data-index="${o}"]:not(.empty-slot)`);if(n){const e=n.dataset.color;a[e]=(a[e]||0)+1}}for(const e in a)if(!(e in n))return!1;for(const e in a)if(a[e]>n[e])return!1;return!0}r.addEventListener("click",(function(){w=!w,w?(!function(){(function(){window.savedState=[];for(let e=0;e<s.lockedTiles.length;e++)for(let t=0;t<s.lockedTiles[e].length;t++){const o=5*e+t,n=i.querySelector(`.tile[data-index="${o}"]`);if(n&&!n.classList.contains("empty-slot")){const a=s.lockedTiles[e][t];window.savedState.push({index:o,color:n.dataset.color,locked:a})}}})(),X();for(let e=0;e<s.lockedTiles.length;e++){const t=s.paletteTypes[e],o=s.palettes[t];for(let t=0;t<s.lockedTiles[e].length;t++){const n=5*e+t;if(s.lockedTiles[e][t])continue;const a=$(o[t],n,"solution");a.classList.add("solution-tile");const l=i.querySelector(`.tile[data-index="${n}"]`);l&&l.parentNode.replaceChild(a,l)}}l.textContent=e.messages.showingSolution,l.className="message-area hint"}(),r.textContent=e.buttons.hideSolution):(X(),window.savedState&&window.savedState.forEach((e=>{const t=e.index,o=Math.floor(t/5),n=t%5,a=s.lockedTiles[o][n];if(a)return;const l=i.querySelector(`.tile[data-index="${t}"]`);if(l&&!a){const o=$(e.color,t,"solution");l.parentNode.replaceChild(o,l)}})),l.textContent=e.messages.continueArranging,l.className="message-area",setTimeout((()=>{P()}),3e3),r.textContent=e.buttons.showSolution)})),c.addEventListener("click",(function(){p++,z(),c.disabled=!0,i.querySelectorAll(".tile").forEach((e=>{e.classList.remove("magic-glow"),e.classList.remove("wrong-position")}));let t=0;for(let e=0;e<s.paletteTypes.length;e++){const o=s.paletteTypes[e],n=s.palettes[o];for(let o=0;o<5;o++){if(s.lockedTiles[e][o])continue;const a=5*e+o,l=i.querySelector(`.tile[data-index="${a}"]:not(.empty-slot)`);if(l&&!l.classList.contains("empty-slot")){const e=l.dataset.color;if(n.includes(e)){n.indexOf(e)!==o&&(l.classList.add("magic-glow"),t++)}}}}t>0?(l.textContent=e.messages.showingHint,l.className="message-area hint"):(l.textContent=e.messages.noMisplacedTiles||"All tiles are correctly placed in their rows! âœ¨",l.className="message-area success");let o=5;c.textContent=e.buttons.hintWithCountdown.replace("{seconds}",o),v&&clearInterval(v),v=setInterval((()=>{if(o--,c.textContent=e.buttons.hintWithCountdown.replace("{seconds}",o),o<=0){clearInterval(v);i.querySelectorAll(".tile").forEach((e=>{e.classList.remove("magic-glow"),e.classList.remove("wrong-position")})),c.textContent=e.buttons.showHint,c.disabled=!1,l.textContent="",l.className="message-area"}}),1e3)})),d.addEventListener("click",E);const ne=document.getElementById("finish-button");ne&&ne.addEventListener("click",(function(){G()})),E(),window.showSuccess=G}))})()})();